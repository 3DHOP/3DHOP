<!DOCTYPE>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta content="charset=UTF-8"/>
<title>3DHOP</title>
<!--STYLESHEET-->
<link type="text/css" rel="stylesheet" href="../stylesheet/3dhop.css"/>  
<!--SPIDERGL-->
<script type="text/javascript" src="../js/spidergl.js"></script>
<!--JQUERY-->
<script type="text/javascript" src="../js/jquery-1.11.0.min.js"></script>
<!--PRESENTER-->
<script type="text/javascript" src="../js/presenter.js"></script>
<!--3D MODELS LOADING AND RENDERING-->
<script type="text/javascript" src="../js/nexus.js"></script>
<script type="text/javascript" src="../js/ply.js"></script>
<!--TRACKBALLS-->
<script type="text/javascript" src="../js/trackball_turntable.js"></script>
<script type="text/javascript" src="../js/trackball_pantilt.js"></script>
<script type="text/javascript" src="../js/trackball_sphere.js"></script>
<!--UTILITY-->
<script type="text/javascript" src="../js/init.js"></script>
</head>
<body>
<div id="3dhop" class="tdhop" onmousedown="if (event.preventDefault) event.preventDefault()"><div id="tdhlg"></div>
 <div id="toolbar">
  <img id="home"    title="Home Position" src="../skins/dark/home.png"/><br/>		  
  <img id="zoomin"  title="Zoom In"       src="../skins/dark/zoomin.png"/><br/>
  <img id="zoomout" title="Zoom Out"      src="../skins/dark/zoomout.png"/><br/>
  <img id="light"   title="Light Control" src="../skins/dark/light.png"/><br/>
 </div>
 <canvas id="draw-canvas" style="background-image: url(../skins/light/background.png)"/>
</div>
</body>

<script type="text/javascript">
var presenter = null;

function setup3dhop() { 
    presenter = new Presenter("draw-canvas");

	presenter.setScene({
		meshes: {
			"Laurana" : { url: "../models/singleres/laurana.ply" }			
		},
		modelInstances : {
			"Model1" : {	mesh : "Laurana" }									
		},
		trackball: {		
			type : PanTiltTrackball,
			trackOptions : {
				startPanX: 0.0,
				startPanY: 0.0,
				startAngleX: 0.0,
				startAngleY: 0.0,
				startDistance: 2.0,
				minMaxPanX: [-0.7, 0.7],
				minMaxPanY: [-0.7, 0.7],
				minMaxAngleX: [-70.0, 70.0],
				minMaxAngleY: [-70.0, 70.0],
				minMaxDist: [0.2, 4.0]	
			}
		}
    });
}

function actionsToolbar(action) {
  switch(action) {
   case 'home'   : presenter.resetTrackball(); break;  
   case 'zoomin' : presenter.zoomIn(); break;
   case 'zoomout': presenter.zoomOut(); break;
   case 'light'  : presenter.enableLightTrackball(!presenter.isLightTrackballEnabled()); lightSwitch(); break;
  }
}

$(document).ready(function(){
	init3dhop();

	setup3dhop();
});
</script>
</html>
